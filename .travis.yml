language: java
jdk:
- oraclejdk8
branches:
  except:
  - travis
notifications:
  irc:
    channels:
    - chat.freenode.net#craftercms
    use_notice: true
    skip_join: true
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
addons:
  sonarqube: true
env:
  global: 
  secure: Ey0wNPTYCVvLKghqntE3+h1YIQ4WwOnNpcPiP4Vr2MvP1lrZDj4DrqAbgxppff+yPtBj9l5paFdTbTLGFCOm8IrMWskPy7cnXzUvcgy9drrUtcofYXintuxANx0qhF/NK0nwul7+516b9wJq5DJN67f11KB+ZRkI/TUFDKfTzpTfKEHEyIJ5SvlKmyaciGPCZUchNE/nH9/8Eb+z6vpK+afffWahyIJWS733wbiWNyrbwkedOQ6OCDoZ3ezoouwlhlglZqRuM46uPBRHsbYUMFMA7E77oWa7TxuLFgWMCCI+LVCvMLahw05tluqTFk9W78vR+c8uaFRtkC+SCN3Ox6nf7jdyIS5X1oG4m2c4/PV6SZThCN0Se1/cTm5Q8Nep3hJ05IBb6q6t3STRR/TYvrQYnWIP7L9p9BkCfXqSKFN1RBfkFcKF3pmls1DX0Ec2vjvKm8jw3QHpLvg9AvPBUEEkqlKjzhTttmGfYuvX6ON869o8fP1LPpOdzCy01bdwbRX9HOz6uNkTVsE1ISOdYNkZcRhaBzrBAwk5pX9cu0PZAVR+zOIUE3/MYyy8eAUYLJhlhEVdOqA81KWHmNwyEpK7G6em1ZHUnJlRVz4GJ4mVrXhlwqT7xnRgG4U2ATjFtrTzW/ByHvIfbRatr72Db5G7Z/uX5yXxjrhsC5MWiCs=
  secure: OYxMQn4cbp3tIEhcA3m3nuzO450Cmet5Rr+l483u4ivpAB8j30yNMlzH3Znnj9QPK6CAhFI4wMD3UOpBKciHfmydzO+sG0xEaNYShB/959R68djtimnZc3TOh0rpwN5bFAXMbzwDzXgbOVkiLrj+B/4PPXqxW16kjQ3tPs/vlvZKiThXtZjKf+74lvDeEKhTBgqYTuq5WU2XFhzuuIGXRNBphEAW4OoV6eigDpJSKuuOUh0+qgfvmL+4LeeHrDfocpuHCirQkqsZUYEdizvJOs5rHl2suRDX2dXSSZ8PyoaMKCYBzPkaJgziichu6CKZhAv/iT2m2F3aVRl4KTVp9j6MfWUK5sN7r3TzaDiKbuvuLCUAAxkdMaEdviSsTr5KdCbCMubYxtIQ/nbTirx66uX12GdJeJ58Mc4hKCrQ51Q7IPHGpHCieTJtiOXcGhxtkFqgb92bD7+XXq+7PBiTQ1fkmCII6GaCLthPGDddvYhrewcPkGKD0qE0ES/Q0HdXzRVlZwuB2tAHbeHSFvp5wrHRn+dv5DHe3K/bmbjEat3hCDzGBGh9rhsoqdr8H2/UjUc5DfK3MAEJINLZC/o7gL1dDewcNh2WTn7zdrqs2BdUvpeS1mk5aO14QQf9pQZ5gXsHVvIMQ4OBgL/Ur3MF5xsev1nhNTUnAnSMdH5Gmzw=
  secure: JJI1BcTk8p2tzVAqgwu0wvZCtJGuJdidU3G/B8ik6yUGn7b8tP88D/KkJjYIcsWOZXV2BZgiDb8TqQifhI+wD7TwYRvEehvxbs/9JCyeYXK4FA+SGtH4Qx1xbjR8V3nUxUlckkj4bt5Y5D5XCMaG7wQeQch8kwTSOaOY9zBPuPxqztfQiBE7u99zuWbTb7UPXoqL3ie+6J8NnmX9phqOWiXbHh0nP8IIQPORkBhZ0ZF6VNcGqsB/vJOSOz9dFQvw4OCK2g5tymXdzSohSuKC0A4w65sntw1QlthjP41J7NZNHg75EPl54YHtGh22oiiGn5CvsorevMotAs/wpGnHlEFPEEjvM4RHVIL6yafS3YXfZ0SrlfLj48EYG/smbeX4FJeSmB3s4gQky8tXSWWKT6aDnf20y2fBLy1NtFIacrPybjF/90JAVA5SEYQ3jHJDgRZPu1nust5WJ7J4+gULImdSU1Bf1B+mIT5gXW824b7QrUYolL9RsXx4UrBlQiEZqMq0vgdyubJnZvB3B0Ipv1c33A02G/+8Hhx8vwSE44Mf7QlpXW6A+0hzyJqvN25ore2f52td9wHWFCy75Wn8wGoT0yte/y6TgOV3fvs3EQQeNDNCxjaf6hHanK7Z2sDtKvnbUcU09k72bO+I/9TC2ah/I3x0SZaGIJg/N7ARn7I=
before_install: git clone -b travis `git config --get remote.origin.url` target/travis
script:
- if [[ "$TRAVIS_PULL_REQUEST" = "false" ]]; then bash -c  "mvn deploy --settings
  target/travis/settings.xml";  fi
- if [[ "$TRAVIS_PULL_REQUEST" = "false" ]]; then bash -c "mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent
  install sonar:sonar -Dsonar.host.url=https://sonarqube.com -Dsonar.login=$SONAR_TOKEN;"
  ;fi
